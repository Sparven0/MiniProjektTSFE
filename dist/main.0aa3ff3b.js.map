{"version":3,"sources":["modules/functions.ts","modules/main.ts"],"names":[],"mappings":"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","file":"main.0aa3ff3b.js","sourceRoot":"../src","sourcesContent":["\n\n\nconst url = `http://localhost:3030/books`;\nexport async function getData():Promise<any> {\n    const res = await fetch(url);\n  \n    if (!res.ok) {\n      throw new Error(\"Network response was not ok\");\n    }\n    const data = await res.json();\n    if (data) {\n      console.log(\"Books array:\", data);\n    } else {\n      console.log(\"Books property is undefined or missing.\");\n    }\n    return data\n  }\n  \n\n  export async function changeReadStatus(ID:number, readStat:boolean):Promise<any>{\n    const specUrl = `${url}/${ID}/readstatus`;\n    const body = {\n        read: readStat\n    }\n    const options = {\n        method: 'PUT',\n        headers:{\n            'Content-type': 'application/json'\n        },\n        body:JSON.stringify(body)   \n    }\n    try{\n        const res = await fetch(specUrl, options);\n        const data = await res.json();\n        console.log(data)\n    } catch(e){\n        console.log('Error updating readstatus', e)\n    }\n  }\n\n  export async function changeReviewStatus(id:number, reviewStat:string):Promise<any>{\n    const specUrl = `${url}/${id}/reviewstatus`;\n    const body = {\n        review: `${reviewStat}`\n    }\n    const options = {\n        method: 'PATCH',\n        headers:{\n            'Content-type': 'application/json'\n        },\n        body: JSON.stringify(body)\n    }\n    try{\n        const res = await fetch(specUrl, options);\n        const data = await res.json();\n    }catch(e){\n        console.log('Error updating status:', e)\n    }\n  }\n\n\n\n\n  export async function writeBook(title: string, writer: string, read: boolean, callback:Function): Promise<any> {\n    const body = {\n      ID: Date.now(),\n      title: title,\n      writer: writer,\n      read: read,\n      review: ''\n    };\n    const options = {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(body)\n    };\n    try {\n      const specUrl = `${url}/new`\n      const res = await fetch(specUrl, options);\n      const data = await res.json();\n      console.log(data);\n      callback()\n    } catch (e) {\n      console.log('Error writing book:', e);\n    }\n  }\n\n  export async function deleteBook(id:number, callback:Function):Promise<any>{\n    const specUrl = `${url}/${id}/delete`;\n    const options = {\n      method: 'DELETE',\n      headers:{\n        'Content-type': 'application/json'\n      }\n    }\n    try{\n      const res = await fetch(specUrl, options);\n      const data = await res.json();\n      console.log(data);\n      callback()\n    } catch(e){\n      console.log('Error deleting book:', e)\n    }\n  }\n\n","import { getData } from \"./functions\";\nimport { changeReadStatus } from \"./functions\";\nimport { changeReviewStatus } from \"./functions\";\nimport { writeBook } from \"./functions\";\nimport { deleteBook } from \"./functions\";\n\nconst form = document.querySelector('form');\n\nasync function displayBookIds() {\n  try {\n    const data = await getData();\n    console.log(data);\n    if (data.books && Array.isArray(data.books)) {\n      data.books.forEach(function (book: {\n        title: string;\n        writer: string;\n        read: boolean;\n        review: string;\n        ID: number;\n      }) {\n        const bookWrapper = document.createElement(\"div\");\n        bookWrapper.classList.add(\"bookwrapper\");\n\n        const saveBtn = document.createElement(\"button\");\n        saveBtn.innerText = \"Save\";\n\n        const titleEl = document.createElement(\"p\");\n        const writerEl = document.createElement(\"p\");\n        const readElTxt = document.createElement(\"p\");\n        const readEl = document.createElement(\"input\");\n\n        readElTxt.innerText = `Read: ${book.read}`;\n        readEl.setAttribute(\"type\", \"checkbox\");\n        readEl.checked = book.read;\n\n        readEl.addEventListener(\"change\", () => {\n          reviewEl.disabled = !readEl.checked;\n          const readStat = readEl.checked;\n          readElTxt.innerText = `Read: ${readStat ? \"true\" : \"false\"}`;\n          if (readStat && reviewEl.value === 'disliked') {\n            addRemoveButton();\n          } else {\n            removeRemoveButton();\n          }\n        });\n\n        const reviewEl = document.createElement(\"select\");\n        const options = [\"no comment\", \"liked\", \"disliked\"];\n        options.forEach((optionText) => {\n          const optionEl = document.createElement(\"option\");\n          optionEl.value = optionText;\n          optionEl.innerText = optionText;\n          reviewEl.appendChild(optionEl);\n        });\n\n        reviewEl.value = book.review;\n        reviewEl.disabled = !readEl.checked;\n\n        let reviewStat = '';\n        reviewEl.addEventListener('change', () => {\n          reviewStat = reviewEl.value;\n          if (reviewStat === 'disliked' && readEl.checked) {\n            addRemoveButton();\n          } else {\n            removeRemoveButton();\n          }\n        });\n        function addRemoveButton() {\n          if (!bookWrapper.querySelector('.removeBtn')) {\n            const removeBtn = document.createElement('button');\n            removeBtn.innerText = 'Remove';\n            removeBtn.classList.add('removeBtn');\n            bookWrapper.append(removeBtn);\n            removeBtn.addEventListener('click', async () => {\n              await deleteBook(book.ID, displayBookIds);\n              location.reload();\n            });\n          }\n        }\n        function removeRemoveButton() {\n          const removeBtn = bookWrapper.querySelector('.removeBtn');\n          if (removeBtn) {\n            removeBtn.remove();\n          }\n        }\n\n        writerEl.innerText = `Writer: ${book.writer}`;\n        titleEl.innerText = `Title: ${book.title}`;\n\n        document.body.append(bookWrapper);\n        bookWrapper.append(\n          titleEl,\n          writerEl,\n          readEl,\n          reviewEl,\n          saveBtn,\n          readElTxt\n        );\n\n        if (book.read && book.review === 'disliked') {\n          addRemoveButton();\n        }\n\n        saveBtn.addEventListener(\"click\", async () => {\n          console.log(book.ID);\n          const readStat = readEl.checked;\n          await changeReadStatus(book.ID, readStat);\n          await changeReviewStatus(book.ID, reviewStat);\n\n          if (readStat && reviewEl.value === 'disliked') {\n            addRemoveButton();\n          } else {\n            removeRemoveButton();\n          }\n        });\n      });\n    } else {\n      console.log(\"Data is not in the expected format or 'books' property is missing.\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n  }\n}\n\nform?.addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = new FormData(form);\n  const title = formData.get('title') as string;\n  const writer = formData.get('writer') as string;\n  const read = formData.get('read');\n  location.reload();\n  const readBoolean = read !== null && typeof read === 'string' && read === 'on';\n  writeBook(title, writer, readBoolean, () => {\n    displayBookIds();\n  });\n});\n\ndisplayBookIds();\n"]}